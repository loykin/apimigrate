up:
  name: startup
  env:
    - name: username
      value: alice
    - name: city
      value: seoul
    - name: forwarded_data
      value: extra
    - name: result_code
      value: "200"
  request:
    auth_name: keycloak
    method: POST
    headers:
      - name: sample-header
        value: sample-header-value
      - name: Forwarded-Data
        value: {{.forwarded_data}}
    queries:
      - name: test-query
        value: sample-query
      - name: city
        value: {{.city}}
    body: |
      {"username": "{{.username}}"}
  response:
    result_code:
    - ${{.result_code}}
    - "203"
    env_from:
      message: $[0].message

down:
  name: startup
  auth: abc
  env:
    - name: abc
      value: ggg
  headers:
    - name: jjj
      value: bcd
  queries:
    - name: abc
      value: adsf
  body: |
    {"abc": "${ABC}}
