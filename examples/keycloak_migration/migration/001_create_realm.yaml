up:
  name: create sample realm
  env: { }
  request:
    auth_name: keycloak
    method: POST
    url: "{{.env.kc_base}}/admin/realms"
    headers:
      - name: Authorization
        value: "{{.auth.keycloak}}"
    queries: [ ]
    body: |
      {"realm": "{{.realm}}", "enabled": true}
  response:
    # 201: created, 409: already exists
    result_code: [ "201", "409" ]

down:
  name: delete sample realm
  auth: keycloak
  env: { }
  method: DELETE
  url: "{{.env.kc_base}}/admin/realms/{{.env.realm}}"
  headers:
    - name: Authorization
      value: "{{.auth.keycloak}}"
  queries: [ ]
  body: ""
